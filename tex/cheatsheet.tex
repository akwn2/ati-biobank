\documentclass{article}

\include{preprint-style}

\begin{document}

\title{ATI Biobank Project cheatsheet}

\author{ATI Biobank Group}

\maketitle

\section{Data\label{sec:data}}
The driving idea behind this section is to have quick access to terminology referring to the dataset as well as some additional pointers for other things related to the main document.

\subsection{Main directories\label{sec:data-dir}}

\begin{itemize}
\item Data file: {\tt /vols/Data/HCP/BBUK/workspace3b.mat}
\item Steve's original readme: {\tt /home/fs0/steve/BB\_README}
\item Data description and lookup: {\tt /vols/Data/HCP/BBUK/SMS/old/ukb6225.html}
\item Fine description of the IDPs: {\tt /vols/Data/HCP/BBUK/IMAGING/data3/group/IDPinfo.txt}
\end{itemize}

\subsection{List of main acronyms\label{sec:data-acro}}

\subsubsection{General nomenclature}
\begin{itemize}
\item ID: subject identity
\item IDP (Imaging-derived phenotypes): Scores derives from brain imaginging ()
\item QC (Quality control): Metrics relating to the ``goodness'' of the data.
\item dMRI (diffusion RMI): A \emph{structural} imaging technique which shows
\item rfMRI (resting-state functional MRI): A \emph{functional} or cognitive technique, fMRI imaging with no stimulus
\item tfMRI (task functional MRI) : A \emph{functional} or cognitive technique, fMRI while performing some specific task (e.g. recognizing faces)
\item ROI (region of interest): A specific measured location in the brain
\item ND (?): first moment of the flow tensor (flow intensity)
\item FA (?): second moment of the flow tensor (sphericity)
\end{itemize}

\subsubsection{Processing nomenclature}
\begin{itemize}
\item SIENAX (Structural Image Evaluation using Normalisation of Atrophy): Technique described in in Smith 2002. It sums up to a measure of the volume of the brain structure adjust the structural image by its atrophy \todo[inline,backgroundcolor=yellow]{ALEX: Check this against Stephen's paper, might be reading too much into the name.}
  \item FIRST (FMRIB's Integrated Registration and Segmentation Tool): A tool by Patenaude 2011 for segregating the brain into 15 subcortical structures\todo[inline,backgroundcolor=yellow]{ALEX: Cool, but what does it look like in a 3D shape of the Brain? Can we easily localize this so as to visualise it?}
\end{itemize}

\subsection{Data description\label{data}}

Using the UK Biobank Imaging Documentation \cite{Smith2016}, we compared the nomenclature to the data stored within the Matlab variables and Steve's readme description.

{\tt IDPnames} variable helps to relate the variables to the terminology used in the UKBID. It divides variables in the following groups:
\begin{table}
  \centering
  \caption{Variable name, information type and  Matlab range for the dataset.}
  \begin{tabular}{lccc}
    \toprule
    {\bf Variable type} & {\bf Matlab Range} & {\bf Type} &{\bf Physical Meaning}\\
    \midrule
    ID  & 1 & Not applicable & --- \\
    QC  & 2:17 & Not applicable & Signal quality\\
    IDP T1 SIENAX & 18:28 & Structural & Brain region volumes\\
    IDP T1 FIRST & 29:43 & Structural & Brain region volumes\\
    IDP SWI $\text{T2}^{*}$ & 44:57 & Structural & Median $\text{T2}^{*}$ value\\
    IDP tfMRI & 58:61 & Functional & Subject's activation in ROIs\\
    IDP dMRI TBSS FA & 74:505 & Structural &  Average area score\\
    IDP dMRI ProbtrackX FA & 506:748 & Structural & Averages area score\\
    rfMRI amplitudes (ICA 25) node    & 749:769 & Functional & See in-text description\\
    rfMRI amplitudes (ICA 100) node   & 770:824 & Functional & See in-text description\\
    rfMRI connectivity (ICA 25) node  & 825:1034 & Functional & See in-text description\\
    rfMRI connectivity (ICA 100) node & 1035:2519 & Functional &  See in-text description\\
    \bottomrule
  \end{tabular}
  \label{tab:data-ranges}
\end{table}

The rfMRI data was parcelated into $D=100$ `individual' regions and $D=25$ `lumped' regions. There are a total of $D (D-1) / 2$ values corresponding to the symmetric ICA matrix in a line-vector form (see page 17 of \cite{Smith2016}).


\begin{table}
  \centering
  \caption{List and brief description of identified variables loaded}
  \begin{tabular}{ccc}
    \toprule
    \bf Name & \bf Dimensions & \bf Description \\
    \midrule
    \tt vars     &$5847 \times 7404$& all subjects by all variables\\
    \tt K        &$5430 \times 1   $& vector of selected subject indexes\\
    \tt varsdraw &$5430 \times 1100$& selected subjects by filtered variables, Gaussianisation of {\tt vars}\\
    \tt age      &$ \times $& age of the subjects\\
    \tt age2     &$ \times $& $\text{\tt age2} = \text{\tt age}^2$, for linearisation of effects\\
    \tt conf     &$ \times $& Confouding variables, see below \\
    \tt varsd    &$5430 \times $& {\tt varsdraw} corrected for the confounds in {\tt conf} \\
    \tt varsdDEAGED &$ 5430 \times $& All {\tt varsdraw} corrected for confounds without the age?\\
    \bottomrule
  \end{tabular}
  \label{tab:data-vars}
\end{table}

\todo[inline, backgroundcolor=cyan]{ALKEOS: What is the NET25 variable?}
\todo[inline, backgroundcolor=yellow]{ALEX: Following on Alkeos' question, would be good to find out NET and NODEamps. I would suppose NodeAmps are the node amplitudes from ICA while NET correspond to the ICA edge information.}

Subject indexes are such that NET25 has no NaN values

Confounding variables in the data file: age, age2, sex, nets\_dmean(age) .* nets\_dmean(sex), age2 .* nets\_demean(sex), some 3 quality control measures.

\section{Matlab functions and scripts\label{sec:matlab}}

\subsection{Matlab}

We have broken down the original README file from Steve into (more) hevily commented scripts:
\begin{itemize}
\item {\tt addpaths.m}: adds all necesarry paths for fMRIB functions for data analysis\todo[inline,backgroundcolor=yellow]{ALEX: There are some paths that are inaccessible/inexistant that need to be corrected}
  \item {\tt findvar.m}: finds the relevant variable given it's Biobank code.
\end{itemize}


\section{Statistical and Machine Learning Methods\label{sec:methods}}

The objective of this section is to standardize the terms the group uses to avoid problems when discussing ideas and algorithms. Also, this is meant as a quick guide to the methods we will be using.

\subsection{Nomenclature\label{sec:method-nomen}}
\begin{itemize}
\item Confounding variable - a variable that when conditioned on induces independence on other variables (i.e. $p(x,y|z) = p(x|z)p(y|z)$ where $z$ is the confounding variable)
\end{itemize}


\subsection{Models\label{models}}
\begin{itemize}
\item ICA (Independent Component Analysis): for a simple introduction, see \cite{Murphy2012} pages 407--416.
\end{itemize}

\bibliography{references.bib}
\bibliographystyle{ieeetr}
\end{document}
